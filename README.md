# 1.5.2 Input and Output Architecture

---
## Detail 
Verify that serialization is not used when communicating with untrusted clients.If this is not possible,
ensure that adequate integrity controls (andpossibly encryption if sensitive data is sent) are enforced to prevent
deserialization attacks including object injection.

## ChatGPT 
การตรวจสอบว่า serialization (กระบวนการแปลงข้อมูลเป็นรูปแบบที่สามารถส่งผ่านเครือข่ายได้) ไม่ถูกใช้เมื่อสื่อสารกับ untrusted clients (ลูกค้าที่ไม่น่าเชื่อถือหรือไม่สามารถไว้ใจได้)
หากไม่สามารถหลีกเลี่ยงการใช้ serialization ได้ ควรตรวจสอบให้แน่ใจว่ามี integrity controls (การควบคุมความสมบูรณ์ของข้อมูล) ที่เพียงพอ และถ้าหากมีการส่งข้อมูลที่สำคัญหรืออ่อนไหว
ควรใช้ encryption (การเข้ารหัสข้อมูล) เพื่อป้องกัน deserialization attacks (การโจมตีโดยการแปลงข้อมูลที่ถูกต้องให้เป็นข้อมูลที่อันตราย เช่น การฉีดวัตถุที่ไม่ปลอดภัยเข้าไปในระบบ)



## Gemini 
เน้นเรื่องความปลอดภัยในการสื่อสารกับคนที่เราไม่ไว้ใจ (เช่น คนภายนอกที่ไม่รู้จัก) โดยเฉพาะตอนที่เราส่งข้อมูลให้กัน
  
1. **พยายามอย่าใช้ Serialization:** Serialization คือการแปลงข้อมูลให้อยู่ในรูปแบบพิเศษ เพื่อส่งไปที่อื่นได้ง่ายๆ  แต่ถ้าคุยกับคนที่ไม่น่าไว้ใจ *พยายามอย่าใช้* เพราะมันอันตราย

2. **ถ้าเลี่ยงไม่ได้ ต้องป้องกันให้ดี:** ถ้าจำเป็นต้องใช้ Serialization กับคนที่ไม่น่าไว้ใจจริงๆ  *ต้อง* มีระบบป้องกันที่แข็งแกร่งมากๆ เพื่อป้องกันการโดนแฮก ซึ่งมี 2 อย่างหลักๆ คือ:
    * **ตรวจสอบความถูกต้องของข้อมูล (Integrity Controls):**  ก่อนรับข้อมูลมา ต้องเช็คให้ดีว่าข้อมูลนั้นถูกต้อง ไม่มีการแก้ไขเปลี่ยนแปลงโดยคนที่ไม่หวังดี  เหมือนเราตรวจพัสดุก่อนรับ ว่าข้างในถูกต้องไหม
    * **เข้ารหัสข้อมูล (Encryption):** ถ้าข้อมูลสำคัญและเป็นความลับ (เช่น ข้อมูลส่วนตัว, รหัสผ่าน)  ต้องเข้ารหัสก่อนส่ง  เหมือนเราใส่กุญแจล็อคกล่องพัสดุ  เพื่อให้คนอื่นเปิดไม่ได้

3. **ป้องกันการโจมตี Deserialization:**  ที่ต้องป้องกันเพราะว่า  คนที่ไม่หวังดีอาจใช้ช่องโหว่ของการแปลงข้อมูล (Serialization/Deserialization)  เพื่อแอบใส่โค้ดอันตรายเข้ามาในข้อมูล  แล้วระบบเราก็จะทำงานตามโค้ดอันตรายนั้น  เหมือนมีคนแอบใส่ไวรัสในพัสดุที่เราส่งไป



## My self 
ตรวจให้แน่ใจว่าไม่ได้แปลงข้อมูลในรูปแบบที่สามารถเปลี่ยนเป็นโค้ดได้ (serialization) เวลาคุยกับคนที่ไม่น่าไว้ใจ ถ้าจำเป็นต้องแปลงจริงๆ ก็ต้องมีวิธีป้องกันและตรวจสอบข้อมูลให้ดี เพื่อไม่ให้คนที่ไม่ดีแอบฝังโค้ดอันตรายเข้าไปได้

**ตัวอย่างเช่น** แอปที่รับข้อมูลจากผู้ใช้ เช่น ชื่อ หรืออีเมล แล้วแปลงข้อมูลนั้นเพื่อส่งไปยังเซิร์ฟเวอร์ ถ้าแอปไม่ตรวจสอบข้อมูลให้ดี ผู้โจมตีอาจส่งข้อมูลที่แฝงโค้ดอันตรายมาแทน วิธีป้องกันคือการตรวจสอบข้อมูลให้แน่ใจว่าไม่มีโค้ดแปลกปลอมและเข้ารหัสข้อมูลเพื่อความปลอดภัย

---
