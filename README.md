# 1.5.2 Input and Output Architecture

---
## Detail 
Verify that serialization is not used when communicating with untrusted clients.If this is not possible,
ensure that adequate integrity controls (andpossibly encryption if sensitive data is sent) are enforced to prevent
deserialization attacks including object injection.

## ChatGPT 
ให้แน่ใจว่า ไม่ได้ใช้การทำ Serialization (การแปลงข้อมูลให้อยู่ในรูปแบบที่สามารถส่งไปมาได้) เมื่อต้องติดต่อสื่อสารกับ ลูกค้าที่ไม่น่าไว้ใจ
แต่ถ้าหลีกเลี่ยงไม่ได้ ให้ใช้ มาตรการป้องกันความปลอดภัยที่เพียงพอ เช่น

1.**ตรวจสอบความถูกต้องของข้อมูล** (Integrity Controls)
2.**เข้ารหัสข้อมูล** (ถ้ามีข้อมูลสำคัญ)
เพื่อป้องกัน การโจมตีจากการทำ Deserialization (เช่น การแอบฝังโค้ดอันตรายผ่าน Object Injection)



## Gemini 
ให้ตรวจสอบว่าระบบไม่ได้ใช้สิ่งที่เรียกว่า "serialization" ในการสื่อสารกับลูกค้าที่ไม่น่าไว้ใจ (เช่น ลูกค้าจากภายนอกองค์กร ที่เราไม่รู้ว่ามีเจตนาดีหรือไม่) 
ถ้าเลี่ยงไม่ได้ที่จะใช้ serialization กับลูกค้ากลุ่มนี้ ต้องทำให้แน่ใจว่ามีระบบป้องกันที่แข็งแกร่ง เช่น 
การตรวจสอบความถูกต้องของข้อมูล (integrity controls) และอาจจะต้องเข้ารหัสข้อมูล (encryption) ด้วย ถ้าข้อมูลที่ส่งไปมีความสำคัญ 
เพื่อป้องกันการโจมตีที่เรียกว่า "deserialization attacks" ซึ่งรวมถึงการโจมตีแบบ "object injection" (การแทรกโค้ดอันตรายเข้าไปในข้อมูล)
พูดง่ายๆ คือ:

1. **อย่าใช้ serialization** คุยกับคนที่ไม่น่าไว้ใจ ถ้าทำได้
2. **ถ้าจำเป็นต้องใช้:** ต้องมีระบบป้องกันแน่นหนามาก ๆ ทั้งตรวจสอบข้อมูลและอาจเข้ารหัสข้อมูลด้วย เพื่อป้องกันการโดนแฮก



## My self 
ตรวจให้แน่ใจว่าไม่ได้แปลงข้อมูลในรูปแบบที่สามารถเปลี่ยนเป็นโค้ดได้ (serialization) เวลาคุยกับคนที่ไม่น่าไว้ใจ ถ้าจำเป็นต้องแปลงจริงๆ ก็ต้องมีวิธีป้องกันและตรวจสอบข้อมูลให้ดี เพื่อไม่ให้คนที่ไม่ดีแอบฝังโค้ดอันตรายเข้าไปได้
**ตัวอย่างเช่น** แอปที่รับข้อมูลจากผู้ใช้ เช่น ชื่อ หรืออีเมล แล้วแปลงข้อมูลนั้นเพื่อส่งไปยังเซิร์ฟเวอร์ ถ้าแอปไม่ตรวจสอบข้อมูลให้ดี ผู้โจมตีอาจส่งข้อมูลที่แฝงโค้ดอันตรายมาแทน วิธีป้องกันคือการตรวจสอบข้อมูลให้แน่ใจว่าไม่มีโค้ดแปลกปลอมและเข้ารหัสข้อมูลเพื่อความปลอดภัย

---
